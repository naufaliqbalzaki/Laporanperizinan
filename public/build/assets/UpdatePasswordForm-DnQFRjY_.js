import{q as F,r as t,A as m,W as I,j as s}from"./app-BNDjhMuB.js";import{I as u}from"./InputError-DyL1GXD6.js";import{B as K}from"./button-CCRufjy2.js";import{I as p}from"./input-CvkLJe1c.js";import{L as w}from"./label-lpIPan_A.js";import{F as x,a as f}from"./EyeIcon-nL1CWGEE.js";import"./index-CWQ7p_Ha.js";import"./index-4OSEfcuy.js";function $({className:b=""}){const e=F().props.flash;t.useEffect(()=>{m.dismiss(),e!=null&&e.success&&m.success(e.success),e!=null&&e.error&&m.error(e.error)},[e]);const[r,S]=t.useState(!1),[o,v]=t.useState(!1),[n,_]=t.useState(!1),h=t.useRef(null),j=t.useRef(null),{data:c,setData:l,errors:i,put:C,reset:d,processing:P,recentlySuccessful:E}=I({current_password:"",password:"",password_confirmation:""}),k=a=>{a.preventDefault(),C(route("password.update"),{preserveScroll:!0,onSuccess:()=>d(),onError:g=>{var N,y;g.password&&(d("password","password_confirmation"),(N=h.current)==null||N.focus()),g.current_password&&(d("current_password"),(y=j.current)==null||y.focus())}})};return s.jsxs("section",{className:b,children:[s.jsxs("header",{children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Ubah Kata Sandi"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Pastikan Kata Sandi Anda Aman."})]}),s.jsxs("form",{onSubmit:k,className:"h-full mt-6 space-y-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx(w,{htmlFor:"current_password",children:"Kata Sandi Saat Ini"}),s.jsx(p,{id:"current_password",ref:j,value:c.current_password,onChange:a=>l("current_password",a.target.value),type:r?"text":"password",className:"block w-full mt-1",autoComplete:"current-password"}),s.jsx("button",{type:"button",onClick:()=>S(!r),className:"absolute inset-y-0 right-0 flex items-center px-2 text-gray-500 justify-center",style:{height:"150%"},children:r?s.jsx(x,{className:"w-5 h-5"}):s.jsx(f,{className:"w-5 h-5"})}),s.jsx(u,{message:i.current_password,className:"mt-2"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(w,{htmlFor:"password",children:"Kata Sandi Baru"}),s.jsx(p,{id:"password",ref:h,value:c.password,onChange:a=>l("password",a.target.value),type:o?"text":"password",className:"block w-full mt-1",autoComplete:"new-password"}),s.jsx("button",{type:"button",onClick:()=>v(!o),className:"absolute inset-y-0 right-0 flex items-center px-2 text-gray-500 justify-center",style:{height:"150%"},children:o?s.jsx(x,{className:"w-5 h-5"}):s.jsx(f,{className:"w-5 h-5"})}),s.jsx(u,{message:i.password,className:"mt-2"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(w,{htmlFor:"password_confirmation",children:"Konfirmasi Kata Sandi Baru"}),s.jsx(p,{id:"password_confirmation",value:c.password_confirmation,onChange:a=>l("password_confirmation",a.target.value),type:n?"text":"password",className:"block w-full mt-1",autoComplete:"new-password"}),s.jsx("button",{type:"button",onClick:()=>_(!n),className:"absolute inset-y-0 right-0 flex items-center px-2 text-gray-500 justify-center",style:{height:"150%"},children:n?s.jsx(x,{className:"w-5 h-5"}):s.jsx(f,{className:"w-5 h-5"})}),s.jsx(u,{message:i.password_confirmation,className:"mt-2"})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsx(K,{disabled:P,className:"absolute bottom-100 w-full",children:"Simpan"})})]})]})}export{$ as default};

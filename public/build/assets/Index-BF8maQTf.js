import{r as i,A as c,j as e,Y as j}from"./app-BNDjhMuB.js";import{D as f,a}from"./DataTableColumnHeader-Bk0Uevxh.js";import{B as g}from"./button-CCRufjy2.js";import{A as h}from"./AuthenticatedLayout-dr0awWZy.js";import{D as y}from"./index-CfjhtM0k.js";import"./popover-BxgEQXH-.js";import"./index-BKwPXhZW.js";import"./index-4OSEfcuy.js";import"./input-CvkLJe1c.js";import"./alert-dialog-DoAyoDaK.js";function T({auth:n,subjects:l,flash:r}){const o=[{accessorKey:"subject",meta:"Perizinan",header:({column:t})=>e.jsx(a,{column:t,title:"Perizinan"})},{accessorKey:"verification_date",meta:"Tanggal Verifikasi",header:"",filterFn:"reportVerificationDateRangeFilter",cell(t){return null}},{accessorKey:"approved_total",meta:"Berkas Lanjut",header:({column:t})=>e.jsx("div",{className:"flex items-center justify-center gap-2 ml-4",children:e.jsx(a,{column:t,title:"Berkas Lanjut"})}),cell(t){return e.jsx("div",{className:"flex items-center justify-center gap-2",children:t.getValue()})}},{accessorKey:"corrective_total",meta:"Berkas Kembali",header:({column:t})=>e.jsx("div",{className:"flex items-center justify-center gap-2 ml-4",children:e.jsx(a,{column:t,title:"Berkas Kembali"})}),cell(t){return e.jsx("div",{className:"flex items-center justify-center gap-2",children:t.getValue()})}},{accessorKey:"total",meta:"Total",header:({column:t})=>e.jsx("div",{className:"flex items-center justify-center gap-2 ml-4",children:e.jsx(a,{column:t,title:"Total"})}),cell(t){return e.jsx("div",{className:"flex items-center justify-center gap-2",children:t.getValue()})}}],[s,m]=i.useState(void 0),[d,p]=i.useState([]);return i.useEffect(()=>{c.dismiss(),r!=null&&r.success&&c.success(r.success),r!=null&&r.error&&c.error(r.error);let t=[];s&&(s.rows.map(x=>{x.original.id.map(u=>{t.push(u.id)})}),p(t))},[r,s]),e.jsxs(h,{user:n.user,header:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"Laporan Perizinan"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("a",{href:route("reports.download",{ids:d}),children:e.jsxs(g,{type:"button",children:[e.jsx(y,{className:"w-5 h-5"}),"Unduh"]})})})]}),children:[e.jsx(j,{title:"Laporan"}),e.jsx("div",{className:"px-8 pb-8 mx-auto max-w-[1728px]",children:e.jsx(f,{columns:o,data:l,name:"reports",searchParam:"subject",pageSizeOptions:[50,100,200,500],setFilteredData:m})})]})}export{T as default};
